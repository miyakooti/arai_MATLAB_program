%calcPLI_1s1を一気に回すスクリプト
%MにKinectとの同期時間を代入
mats = dir("生データ/**/*.mat");
keySet = ["akimoto_rest2","akimoto_task1","akimoto_task7","akimoto_task10","akimoto_task11",...
           "shibata_rest1","shibata_task1","shibata_task2","shibata_task3",...
           "naraha_rest1","naraha_task1","naraha_task2","naraha_task3",...
           "komoriya_rest1","komoriya_task1","komoriya_task3",...
           "kadota_rest1","kadota_task1","kadota_task2",...
           "jin_rest2","jin_task2","jin_task3",...
           "gou_rest1","gou_rest2","gou_task1","gou_task2",...
           "nakamura_rest1","nakamura_task3","nakamura_task4",...
           "kanamaru_rest1","kanamaru_task3","kanamaru_task5",...
           "chiba_rest1","chiba_task4","chiba_task5",...
           "kaneko_rest1","kaneko_task3","kaneko_task5"];
valueSet = [0, 7636, 5387,3786, 5427,...
            0, 4263, 5223, 3973,...
            0, 2989, 2894, 3207,...
            0, 5681, 5436,...
            0, 4073, 4480,...
            0, 3368, 4057,...
            0, 0, 3701, 4119,...
            0, 5227, 3740,...
            0, 3359, 3353,...
            0, 2825, 3308,...
            0, 3043, 5177];

M = containers.Map(keySet,valueSet);

for i=1:length(mats)
    path = strcat(mats(i).folder,"/", mats(i).name);
    load(path);
    if ~ismember(subject, keySet)
        continue
    end
    disp(subject); 
    disp(M(subject));
    bunsekikaisiten = M(subject);
    run("calcPLI_1s");
end
